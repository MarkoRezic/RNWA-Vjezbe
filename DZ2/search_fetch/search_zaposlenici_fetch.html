<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../index.css" />
    <title>HR schema - Zaposlenici - TIM 2</title>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.4/fetch.min.js"
      integrity="sha512-IsoGB9P1Kjw962zrslxT91OfoKkAnlBfQDdh5HwFvOxwJ8xGV6MuDeAli4TkEMiUqhJVkvpxJBsIS14bSERgxA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>

  <script>
    function loadEmployees() {
      fetch("http://localhost/load_zaposlenici.php")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("resultDiv").innerHTML = data;
        });
    }
    function searchEmployees(str) {
      fetch("http://localhost/search_zaposlenici.php?s=" + str)
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("resultDiv").innerHTML = data;
        });
    }
  </script>

  <body onload="loadEmployees()">
    <header class="nav-header surface-12">
      <nav class="navigation">
        <a href="../index.html">Naslovna</a>
        <a href="../odjeli.html">Odjeli</a>
        <a href="../zaposlenici.html">Zaposlenici</a>
        <a href="../poslovi.html">Poslovi</a>
      </nav>
    </header>

    <div class="divider surface-8 mv5"></div>

    <header class="nav-header surface-12">
      <nav class="navigation">
        <a href="../search/search_zaposlenici.html">JS Pretraga</a>
        <a href="../search_jquery/search_zaposlenici_jquery.html"
          >JQuery Pretraga</a
        >
        <a href="../search_axios/search_zaposlenici_axios.html"
          >Axios Pretraga</a
        >
        <a class="active">Fetch Pretraga</a>
      </nav>
    </header>

    <div class="sidebar-content-wrapper">
      <div class="sidebar"></div>

      <section class="main-content">
        <article>
          <header>
            <h2 class="emph-medium">Zaposlenici pretraga Fetch API</h2>

            <div class="divider surface-8"></div>
          </header>
          <form>
            <input
              type="text"
              placeholder="Pretraga..."
              class="search surface-12"
              onkeyup="searchEmployees(this.value)"
            />
          </form>
          <div id="resultDiv"></div>
        </article>
      </section>
    </div>

    <footer class="footer surface-12">
      <p class="emph-high">Â© 2022 RZSoft</p>
    </footer>
  </body>
</html>
